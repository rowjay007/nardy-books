{"version":3,"file":"reviewRoutes.js","sources":["routes/reviewRoutes.ts"],"sourceRoot":"/","sourcesContent":["import { Router } from \"express\";\nimport * as ReviewController from \"../controllers/reviewController\";\nimport { protect } from \"../middlewares/authMiddleware\";\n\nconst router = Router();\nrouter.use(protect);\n\n/**\n * @swagger\n * components:\n *   schemas:\n *     Review:\n *       type: object\n *       required:\n *         - reviewer\n *         - book\n *         - rating\n *       properties:\n *         id:\n *           type: string\n *           description: The auto-generated id of the review\n *         reviewer:\n *           type: string\n *           description: The user who reviewed the book\n *         book:\n *           type: string\n *           description: The book being reviewed\n *         rating:\n *           type: number\n *           description: Rating given by the reviewer\n *         comments:\n *           type: string\n *           description: Comments by the reviewer\n *       example:\n *         id: 60c72b2f9b1d8b001c8e4d6f\n *         reviewer: 60c72b2f9b1d8b001c8e4d70\n *         book: 60c72b2f9b1d8b001c8e4d71\n *         rating: 5\n *         comments: This book was fantastic!\n */\n\n/**\n * @swagger\n * tags:\n *   name: Reviews\n *   description: The review managing API\n */\n\n/**\n * @swagger\n * /reviews:\n *   post:\n *     summary: Create a new review\n *     tags: [Reviews]\n *     security:\n *       - bearerAuth: []\n *     requestBody:\n *       required: true\n *       content:\n *         application/json:\n *           schema:\n *             $ref: '#/components/schemas/Review'\n *     responses:\n *       201:\n *         description: The review was successfully created\n *         content:\n *           application/json:\n *             schema:\n *               $ref: '#/components/schemas/Review'\n *       500:\n *         description: Some server error\n */\nrouter.post(\"/\", ReviewController.createReview);\n\n/**\n * @swagger\n * /reviews/{id}:\n *   get:\n *     summary: Get a review by id\n *     tags: [Reviews]\n *     security:\n *       - bearerAuth: []\n *     parameters:\n *       - in: path\n *         name: id\n *         schema:\n *           type: string\n *         required: true\n *         description: The review id\n *     responses:\n *       200:\n *         description: The review description by id\n *         content:\n *           application/json:\n *             schema:\n *               $ref: '#/components/schemas/Review'\n *       404:\n *         description: The review was not found\n *       500:\n *         description: Some server error\n */\nrouter.get(\"/:id\", ReviewController.getReviewById);\n\n/**\n * @swagger\n * /reviews:\n *   get:\n *     summary: Get all reviews\n *     tags: [Reviews]\n *     security:\n *       - bearerAuth: []\n *     parameters:\n *       - in: query\n *         name: filter\n *         schema:\n *           type: object\n *         description: Filter criteria\n *       - in: query\n *         name: page\n *         schema:\n *           type: integer\n *         description: Page number\n *       - in: query\n *         name: limit\n *         schema:\n *           type: integer\n *         description: Number of items per page\n *       - in: query\n *         name: sort\n *         schema:\n *           type: string\n *           enum: [\"asc\", \"desc\"]\n *         description: Sort order\n *     responses:\n *       200:\n *         description: List of reviews retrieved successfully\n *         content:\n *           application/json:\n *             schema:\n *               type: array\n *               items:\n *                 $ref: '#/components/schemas/Review'\n *       500:\n *         description: Internal server error\n */\nrouter.get(\"/\", ReviewController.getAllReviews);\n\n/**\n * @swagger\n * /reviews/{id}:\n *   put:\n *     summary: Update a review by id\n *     tags: [Reviews]\n *     security:\n *       - bearerAuth: []\n *     parameters:\n *       - in: path\n *         name: id\n *         schema:\n *           type: string\n *         required: true\n *         description: The review id\n *     requestBody:\n *       required: true\n *       content:\n *         application/json:\n *           schema:\n *             $ref: '#/components/schemas/Review'\n *     responses:\n *       200:\n *         description: The review was successfully updated\n *         content:\n *           application/json:\n *             schema:\n *               $ref: '#/components/schemas/Review'\n *       404:\n *         description: The review was not found\n *       500:\n *         description: Some server error\n */\nrouter.put(\"/:id\", ReviewController.updateReviewById);\n\n/**\n * @swagger\n * /reviews/{id}:\n *   delete:\n *     summary: Delete a review by id\n *     tags: [Reviews]\n *     security:\n *       - bearerAuth: []\n *     parameters:\n *       - in: path\n *         name: id\n *         schema:\n *           type: string\n *         required: true\n *         description: The review id\n *     responses:\n *       204:\n *         description: The review was successfully deleted\n *       404:\n *         description: The review was not found\n *       500:\n *         description: Some server error\n */\nrouter.delete(\"/:id\", ReviewController.deleteReviewById);\n\nexport default router;\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,qCAAiC;AACjC,kFAAoE;AACpE,kEAAwD;AAExD,MAAM,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;AACxB,MAAM,CAAC,GAAG,CAAC,wBAAO,CAAC,CAAC;AAEpB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAgCG;AAEH;;;;;GAKG;AAEH;;;;;;;;;;;;;;;;;;;;;;;GAuBG;AACH,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,gBAAgB,CAAC,YAAY,CAAC,CAAC;AAEhD;;;;;;;;;;;;;;;;;;;;;;;;;;GA0BG;AACH,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,gBAAgB,CAAC,aAAa,CAAC,CAAC;AAEnD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAyCG;AACH,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,gBAAgB,CAAC,aAAa,CAAC,CAAC;AAEhD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAgCG;AACH,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,gBAAgB,CAAC,gBAAgB,CAAC,CAAC;AAEtD;;;;;;;;;;;;;;;;;;;;;;GAsBG;AACH,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,gBAAgB,CAAC,gBAAgB,CAAC,CAAC;AAEzD,kBAAe,MAAM,CAAC","debug_id":"1c970f67-1b99-5efc-bbd6-bec38b6cda50"}