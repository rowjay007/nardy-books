{"version":3,"file":"userController.js","sources":["controllers/userController.ts"],"sourceRoot":"/","sourcesContent":["import { Request, Response, NextFunction } from \"express\";\nimport userService from \"../services/userService\";\nimport AppError from \"../utils/appError\";\nimport catchAsync from \"../utils/catchAsync\";\n\n/**\n * Controller function to get all users\n * @param req Express request object\n * @param res Express response object\n * @param next Express next function\n */\nexport const getAllUsers = catchAsync(\n  async (req: Request, res: Response, next: NextFunction) => {\n    const filter = {};\n    const sort = {};\n    const limit = 10;\n    const skip = 0;\n\n    const users = await userService.getAllUsers(filter, sort, limit, skip);\n    res.status(200).json({\n      status: \"success\",\n      data: { users },\n    });\n  }\n);\n\n/**\n * Controller function to get a user by ID\n * @param req Express request object with params containing user ID\n * @param res Express response object\n * @param next Express next function\n */\nexport const getUserById = catchAsync(\n  async (req: Request, res: Response, next: NextFunction) => {\n    const userId = req.params.id;\n    const user = await userService.getUserById(userId);\n    if (!user) {\n      return next(new AppError(\"User not found\", 404));\n    }\n    res.status(200).json({\n      status: \"success\",\n      data: { user },\n    });\n  }\n);\n\n/**\n * Controller function to update a user\n * @param req Express request object with params containing user ID and body containing update data\n * @param res Express response object\n * @param next Express next function\n */\nexport const updateUser = catchAsync(\n  async (req: Request, res: Response, next: NextFunction) => {\n    const userId = req.params.id;\n    const updateData = req.body;\n    const updatedUser = await userService.updateUser(userId, updateData);\n    res.status(200).json({\n      status: \"success\",\n      data: { user: updatedUser },\n    });\n  }\n);\n\n/**\n * Controller function to delete a user\n * @param req Express request object with params containing user ID\n * @param res Express response object\n * @param next Express next function\n */\nexport const deleteUser = catchAsync(\n  async (req: Request, res: Response, next: NextFunction) => {\n    const userId = req.params.id;\n    await userService.deleteUser(userId);\n    res.status(200).json({\n      status: \"success\",\n      message: \"User successfully deleted\",\n      data: null,\n    });\n  }\n);\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AACA,0EAAkD;AAClD,iEAAyC;AACzC,qEAA6C;AAE7C;;;;;GAKG;AACU,QAAA,WAAW,GAAG,IAAA,oBAAU,EACnC,CAAO,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IACxD,MAAM,MAAM,GAAG,EAAE,CAAC;IAClB,MAAM,IAAI,GAAG,EAAE,CAAC;IAChB,MAAM,KAAK,GAAG,EAAE,CAAC;IACjB,MAAM,IAAI,GAAG,CAAC,CAAC;IAEf,MAAM,KAAK,GAAG,MAAM,qBAAW,CAAC,WAAW,CAAC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;IACvE,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;QACnB,MAAM,EAAE,SAAS;QACjB,IAAI,EAAE,EAAE,KAAK,EAAE;KAChB,CAAC,CAAC;AACL,CAAC,CAAA,CACF,CAAC;AAEF;;;;;GAKG;AACU,QAAA,WAAW,GAAG,IAAA,oBAAU,EACnC,CAAO,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IACxD,MAAM,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;IAC7B,MAAM,IAAI,GAAG,MAAM,qBAAW,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;IACnD,IAAI,CAAC,IAAI,EAAE,CAAC;QACV,OAAO,IAAI,CAAC,IAAI,kBAAQ,CAAC,gBAAgB,EAAE,GAAG,CAAC,CAAC,CAAC;IACnD,CAAC;IACD,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;QACnB,MAAM,EAAE,SAAS;QACjB,IAAI,EAAE,EAAE,IAAI,EAAE;KACf,CAAC,CAAC;AACL,CAAC,CAAA,CACF,CAAC;AAEF;;;;;GAKG;AACU,QAAA,UAAU,GAAG,IAAA,oBAAU,EAClC,CAAO,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IACxD,MAAM,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;IAC7B,MAAM,UAAU,GAAG,GAAG,CAAC,IAAI,CAAC;IAC5B,MAAM,WAAW,GAAG,MAAM,qBAAW,CAAC,UAAU,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;IACrE,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;QACnB,MAAM,EAAE,SAAS;QACjB,IAAI,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE;KAC5B,CAAC,CAAC;AACL,CAAC,CAAA,CACF,CAAC;AAEF;;;;;GAKG;AACU,QAAA,UAAU,GAAG,IAAA,oBAAU,EAClC,CAAO,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IACxD,MAAM,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;IAC7B,MAAM,qBAAW,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;IACrC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;QACnB,MAAM,EAAE,SAAS;QACjB,OAAO,EAAE,2BAA2B;QACpC,IAAI,EAAE,IAAI;KACX,CAAC,CAAC;AACL,CAAC,CAAA,CACF,CAAC","debug_id":"9e8e5464-1b54-5dd6-8dc3-bb61727a5269"}