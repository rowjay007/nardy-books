{"version":3,"file":"userController.js","sources":["controllers/userController.ts"],"sourceRoot":"/","sourcesContent":["import { Request, Response, NextFunction } from \"express\";\nimport * as userService from \"../services/userService\";\nimport AppError from \"../utils/appError\";\nimport catchAsync from \"../utils/catchAsync\";\n\n/**\n * Controller function to get all users\n * @param req Express request object\n * @param res Express response object\n * @param next Express next function\n */\nexport const getAllUsers = catchAsync(\n  async (req: Request, res: Response, next: NextFunction) => {\n    const filter = {};\n    const sort = {};\n    const limit = 10;\n    const skip = 0;\n\n    const users = await userService.getAllUsers(filter, sort, limit, skip);\n\n    res.status(200).json({\n      status: \"success\",\n      data: { users },\n    });\n  }\n);\n\n/**\n * Controller function to get a user by ID\n * @param req Express request object with params containing user ID\n * @param res Express response object\n * @param next Express next function\n */\nexport const getUserById = catchAsync(\n  async (req: Request, res: Response, next: NextFunction) => {\n    const userId = req.params.id;\n\n    // Validate userId\n    if (!userId) {\n      return next(new AppError(\"No user ID provided\", 400));\n    }\n\n    const user = await userService.getUserById(userId);\n\n    if (!user) {\n      return next(new AppError(\"User not found\", 404));\n    }\n\n    res.status(200).json({\n      status: \"success\",\n      data: { user },\n    });\n  }\n);\n\n/**\n * Controller function to update a user\n * @param req Express request object with params containing user ID and body containing update data\n * @param res Express response object\n * @param next Express next function\n */\nexport const updateUserById = catchAsync(\n  async (req: Request, res: Response, next: NextFunction) => {\n    const userId = req.params.id;\n    const updateData = req.body;\n\n    if (!userId) {\n      return next(new AppError(\"No user ID provided\", 400));\n    }\n\n    const updatedUser = await userService.updateUser(userId, updateData);\n\n    if (!updatedUser) {\n      return next(new AppError(\"User not found\", 404));\n    }\n\n    res.status(200).json({\n      status: \"success\",\n      data: { user: updatedUser },\n    });\n  }\n);\n\n/**\n * Controller function to delete a user\n * @param req Express request object with params containing user ID\n * @param res Express response object\n * @param next Express next function\n */\nexport const deleteUserById = catchAsync(\n  async (req: Request, res: Response, next: NextFunction) => {\n    const userId = req.params.id;\n\n    // Validate userId\n    if (!userId) {\n      return next(new AppError(\"No user ID provided\", 400));\n    }\n\n    const result = await userService.deleteUser(userId);\n\n    if (!result) {\n      return next(new AppError(\"User not found\", 404));\n    }\n\n    res.status(200).json({\n      status: \"success\",\n      message: \"User successfully deleted\",\n      data: null,\n    });\n  }\n);\n"],"names":[],"mappings":"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","debug_id":"cf466a97-75f9-5f5f-9d4c-7b8d33711e44"}