{"version":3,"file":"paystack.js","sources":["utils/paystack.ts"],"sourceRoot":"/","sourcesContent":["import axios from \"axios\";\nimport env from \"../config/env\";\n\nconst PAYSTACK_TEST_SECRET_KEY = env.PAYSTACK_TEST_SECRET_KEY;\n\nexport const initializePayment = async (\n  amount: number,\n  email: string,\n  reference: string\n): Promise<any> => {\n  try {\n    const response = await axios.post(\n      \"https://api.paystack.co/transaction/initialize\",\n      { amount: amount * 100, email, reference },\n      {\n        headers: {\n          Authorization: `Bearer ${PAYSTACK_TEST_SECRET_KEY}`,\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n    return response.data;\n  } catch (error) {\n    throw new Error(\"Failed to initialize payment with Paystack.\");\n  }\n};\n\n\nexport const verifyPayment = async (reference: string) => {\n  const response = await axios.get(\n    `https://api.paystack.co/transaction/verify/${reference}`,\n    {\n      headers: {\n        Authorization: `Bearer ${PAYSTACK_TEST_SECRET_KEY}`,\n        \"Content-Type\": \"application/json\",\n      },\n    }\n  );\n  return response.data;\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAA,kDAA0B;AAC1B,wDAAgC;AAEhC,MAAM,wBAAwB,GAAG,aAAG,CAAC,wBAAwB,CAAC;AAEvD,MAAM,iBAAiB,GAAG,CAC/B,MAAc,EACd,KAAa,EACb,SAAiB,EACH,EAAE;IAChB,IAAI,CAAC;QACH,MAAM,QAAQ,GAAG,MAAM,eAAK,CAAC,IAAI,CAC/B,gDAAgD,EAChD,EAAE,MAAM,EAAE,MAAM,GAAG,GAAG,EAAE,KAAK,EAAE,SAAS,EAAE,EAC1C;YACE,OAAO,EAAE;gBACP,aAAa,EAAE,UAAU,wBAAwB,EAAE;gBACnD,cAAc,EAAE,kBAAkB;aACnC;SACF,CACF,CAAC;QACF,OAAO,QAAQ,CAAC,IAAI,CAAC;IACvB,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,MAAM,IAAI,KAAK,CAAC,6CAA6C,CAAC,CAAC;IACjE,CAAC;AACH,CAAC,CAAA,CAAC;AApBW,QAAA,iBAAiB,qBAoB5B;AAGK,MAAM,aAAa,GAAG,CAAO,SAAiB,EAAE,EAAE;IACvD,MAAM,QAAQ,GAAG,MAAM,eAAK,CAAC,GAAG,CAC9B,8CAA8C,SAAS,EAAE,EACzD;QACE,OAAO,EAAE;YACP,aAAa,EAAE,UAAU,wBAAwB,EAAE;YACnD,cAAc,EAAE,kBAAkB;SACnC;KACF,CACF,CAAC;IACF,OAAO,QAAQ,CAAC,IAAI,CAAC;AACvB,CAAC,CAAA,CAAC;AAXW,QAAA,aAAa,iBAWxB","debug_id":"30f4e601-72ee-56dc-bd2f-1c0cf225184b"}