{"version":3,"file":"flutterwave.js","sources":["utils/flutterwave.ts"],"sourceRoot":"/","sourcesContent":["import axios from \"axios\";\nimport env from \"../config/env\";\n\nconst FLUTTERWAVE_TEST_SECRET_KEY = env.FLUTTERWAVE_TEST_SECRET_KEY;\n\nexport const initializeFlutterwavePayment = async (\n  amount: number,\n  email: string,\n  reference: string\n) => {\n  const response = await axios.post(\n    \"https://api.flutterwave.com/v3/payments\",\n    {\n      tx_ref: reference,\n      amount,\n      currency: \"NGN\",\n      redirect_url: \"https://your-redirect-url.com\",\n      customer: {\n        email,\n      },\n    },\n    {\n      headers: {\n        Authorization: `Bearer ${FLUTTERWAVE_TEST_SECRET_KEY}`,\n        \"Content-Type\": \"application/json\",\n      },\n    }\n  );\n  return response.data;\n};\n\nexport const verifyFlutterwavePayment = async (reference: string) => {\n  const response = await axios.get(\n    `https://api.flutterwave.com/v3/transactions/${reference}/verify`,\n    {\n      headers: {\n        Authorization: `Bearer ${FLUTTERWAVE_TEST_SECRET_KEY}`,\n        \"Content-Type\": \"application/json\",\n      },\n    }\n  );\n  return response.data;\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAA,kDAA0B;AAC1B,wDAAgC;AAEhC,MAAM,2BAA2B,GAAG,aAAG,CAAC,2BAA2B,CAAC;AAE7D,MAAM,4BAA4B,GAAG,CAC1C,MAAc,EACd,KAAa,EACb,SAAiB,EACjB,EAAE;IACF,MAAM,QAAQ,GAAG,MAAM,eAAK,CAAC,IAAI,CAC/B,yCAAyC,EACzC;QACE,MAAM,EAAE,SAAS;QACjB,MAAM;QACN,QAAQ,EAAE,KAAK;QACf,YAAY,EAAE,+BAA+B;QAC7C,QAAQ,EAAE;YACR,KAAK;SACN;KACF,EACD;QACE,OAAO,EAAE;YACP,aAAa,EAAE,UAAU,2BAA2B,EAAE;YACtD,cAAc,EAAE,kBAAkB;SACnC;KACF,CACF,CAAC;IACF,OAAO,QAAQ,CAAC,IAAI,CAAC;AACvB,CAAC,CAAA,CAAC;AAxBW,QAAA,4BAA4B,gCAwBvC;AAEK,MAAM,wBAAwB,GAAG,CAAO,SAAiB,EAAE,EAAE;IAClE,MAAM,QAAQ,GAAG,MAAM,eAAK,CAAC,GAAG,CAC9B,+CAA+C,SAAS,SAAS,EACjE;QACE,OAAO,EAAE;YACP,aAAa,EAAE,UAAU,2BAA2B,EAAE;YACtD,cAAc,EAAE,kBAAkB;SACnC;KACF,CACF,CAAC;IACF,OAAO,QAAQ,CAAC,IAAI,CAAC;AACvB,CAAC,CAAA,CAAC;AAXW,QAAA,wBAAwB,4BAWnC","debug_id":"53b09db0-1433-5f55-aa75-03d03a5d7854"}